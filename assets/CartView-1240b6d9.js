import{_ as y,r as f,o as r,c as u,b as e,F as p,g as x,h as V,t as _,d as n,w,e as k,i as I,v as P,f as C,n as h,p as S,j as E}from"./index-28424134.js";const{VITE_APP_URL:b,VITE_APP_PATH:v}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"shangway",BASE_URL:"/basketball-sideProject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},U={data(){return{cart:{},form:{name:"",eamil:"",tel:"",address:""},orderId:""}},methods:{isPhone(t){return/^(09)[0-9]{8}$/.test(t)?!0:"需要正確的電話號碼"},getCarts(){this.$http.get(`${b}/v2/api/${v}/cart`).then(t=>{this.cart=t.data.data,console.log("取得購物車",t.data.data)})},checkout(){this.$router.push("/checkout")},deleteItem(){this.$http.delete(`${b}/v2/api/${v}/cart/{id}`).then(t=>{console.log("刪除購物車",t)})},createOrder(){const t=this.from;this.$http.post(`${b}v2/api/${v}/order`,{data:t}).then(a=>{console.log("送出報名表",a),this.orderId=a.data.orderId,this.$router.push("/orders")}).catch(a=>{console.log(a)})}},mounted(){this.getCarts()}},d=t=>(S("data-v-7a81fbdf"),t=t(),E(),t),A=k('<section data-v-7a81fbdf><div class="container-fulid bg-black py-10" data-v-7a81fbdf><ul class="row d-flex justify-content-center list-unstyled m-0" data-v-7a81fbdf><li class="col-8 text-white d-flex justify-content-around" data-v-7a81fbdf><div class="badge rounded-pill fs-7 bg-white text-primary" data-v-7a81fbdf>1.填寫資訊</div><div class="badge rounded-pill fs-7 bg-secondary text-primary" data-v-7a81fbdf>2.確認付款</div><div class="badge rounded-pill fs-7 bg-secondary text-primary" data-v-7a81fbdf>3.付款完成</div></li></ul></div></section>',1),N={class:"container-fluid bg-black py-5"},T={class:"container"},j={class:"row"},D=d(()=>e("h6",{class:"text-white text-center pb-5"},"已預約課程",-1)),F={class:"col-12 col-sm-8 mx-auto"},q={class:"table align-middle"},R=d(()=>e("thead",null,[e("tr",{class:"text-white"},[e("th",{class:"col-2"},"上課名稱"),e("th",{class:"col-1",style:{}},"堂數"),e("th",{class:"col-2"},"價格")])],-1)),B={class:"text-white"},L={class:"input-group input-group-sm"},M=["onUpdate:modelValue","onChange","disabled"],O=["value"],$={class:"text-white d-flex justify-content-between"},H=["onClick","disabled"],z=d(()=>e("i",{class:"fa-solid fa-trash"},null,-1)),G=[z],J={class:"text-white"},K=d(()=>e("td",{colspan:"2",class:"text-end"},"總計",-1)),Q={class:"container-fulid bg-black py-5"},W={class:"container"},X={class:"row"},Y=d(()=>e("h6",{class:"text-white text-center pb-5"},"報名表單",-1)),Z={class:"col-sm-9 col-lg-6 col-xl-5 mx-auto"},ee={class:"form-floating text-white mb-6"},te=d(()=>e("label",{for:"name",class:"text-white"},"姓名",-1)),se={class:"form-floating text-white mb-6"},ae=d(()=>e("label",{for:"tel",class:"text-white"},"請輸入電話",-1)),oe={class:"form-floating text-white mb-6"},le=d(()=>e("label",{for:"address",class:"text-white"},"上課地點",-1)),de={class:"form-floating text-white mb-6"},ne=d(()=>e("label",{for:"email",class:"text-white"},"請輸入信箱",-1)),ie=d(()=>e("div",{class:"d-flex justify-content-center mt-5"},[e("button",{type:"submit",class:"btn btn-white text-black"}," 送出報名表 ")],-1));function ce(t,a,re,ue,l,m){const i=f("VField"),c=f("ErrorMessage"),g=f("VForm");return r(),u(p,null,[A,e("section",null,[e("div",N,[e("div",T,[e("div",j,[D,e("div",F,[e("table",q,[R,e("tbody",null,[l.cart.carts?(r(!0),u(p,{key:0},x(l.cart.carts,o=>(r(),u("tr",{class:"tableDark",key:o.id},[e("td",B,_(o.product.title),1),e("td",null,[e("div",L,[I(e("select",{name:"",id:"",class:"form-control bg-black text-white","onUpdate:modelValue":s=>o.qty=s,onChange:s=>t.updateCartItem(o),disabled:o.id===t.loadingItem},[(r(),u(p,null,x(20,s=>e("option",{value:s,key:s+"123"},_(s),9,O)),64))],40,M),[[P,o.qty]])])]),e("td",$,[C(_(o.product.price)+" ",1),e("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:s=>m.deleteItem(o),disabled:o.id===t.loadingItem},G,8,H)])]))),128)):V("",!0)]),e("tfoot",null,[e("tr",J,[K,e("td",null,_(l.cart.final_total),1)])])])])])])])]),e("main",null,[e("div",Q,[e("div",W,[e("div",X,[Y,e("div",Z,[n(g,{onSubmit:m.createOrder,class:"form-signin position-relative text-center"},{default:w(({errors:o})=>[e("div",ee,[te,n(i,{id:"name",name:"姓名",type:"text",rules:"required",modelValue:l.form.name,"onUpdate:modelValue":a[0]||(a[0]=s=>l.form.name=s),class:h(["text-black",{"is-invalid":o.姓名}]),placeholder:"請輸入姓名"},null,8,["modelValue","class"]),n(c,{name:"姓名",class:"invalid-feedback"})]),e("div",se,[ae,n(i,{id:"tel",name:"電話",type:"text",rules:m.isPhone,modelValue:l.form.tel,"onUpdate:modelValue":a[1]||(a[1]=s=>l.form.tel=s),class:h(["text-black",{"is-invalid":o.電話}]),placeholder:"請輸入電話"},null,8,["rules","modelValue","class"]),n(c,{name:"電話",class:"invalid-feedback"})]),e("div",oe,[le,n(i,{id:"address",name:"地址",type:"text",rules:"required",modelValue:l.form.address,"onUpdate:modelValue":a[2]||(a[2]=s=>l.form.address=s),class:h(["text-black",{"is-invalid":o.地址}]),placeholder:"請輸入上課地點"},null,8,["modelValue","class"]),n(c,{name:"地址",class:"invalid-feedback"})]),e("div",de,[ne,n(i,{id:"email",name:"信箱",type:"text",rules:"required|email",modelValue:l.form.email,"onUpdate:modelValue":a[3]||(a[3]=s=>l.form.email=s),class:h(["text-black",{"is-invalid":o.信箱}]),placeholder:"請輸入信箱"},null,8,["modelValue","class"]),n(c,{name:"信箱",class:"invalid-feedback"})]),ie]),_:1},8,["onSubmit"])])])])])])],64)}const he=y(U,[["render",ce],["__scopeId","data-v-7a81fbdf"]]);export{he as default};
