import{_ as g,o as n,c,b as t,F as u,g as m,h as b,t as o,e as v,n as x,i as w,v as y,f}from"./index-df38a6af.js";const{VITE_APP_URL:d,VITE_APP_PATH:r}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"shangway",BASE_URL:"/basketball-sideProject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},k={data(){return{products:[],productId:"",cart:{},loadingItem:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getProducts(){this.$http.get(`${d}/v2/api/${r}/products/all`).then(e=>{console.log("產品列表",e.data.products),this.products=e.data.products})},openModal(e){this.productId=e,console.log("外層帶入 productId",e)},addToCard(e,l=1){const h={product_id:e,qty:l};this.$http.post(`${d}/v2/api/${r}/cart`,{data:h}).then(_=>{console.log("加入購物車",_.data),this.getCarts(),this.getProducts(),alert("已預約課程")})},getCarts(){this.$http.get(`${d}/v2/api/${r}/cart`).then(e=>{console.log("購物車",e.data),this.products=e.data.products,this.cart=e.data.data}),this.getProducts()},updateCartItem(e){const l={product_id:e.product.id,qty:e.qty};this.loadingItem=e.id,this.$http.put(`${d}/v2/api/${r}/cart/${e.id}`,{data:l}).then(h=>{console.log("更新購物車",h.data),this.getCarts(),this.loadingItem=""}),this.getProducts()},deleteItem(e){this.$http.delete(`${d}/v2/api/${r}/cart/${e.id}`).then(l=>{console.log("刪除購物車",l.data),this.getCarts()})},onSubmit(){console.log("有跳出onSubmit")},isPhone(e){return/^(09)[0-9]{8}$/.test(e)?!0:"需為正確的手機號碼格式"}},mounted(){this.getProducts(),this.getCarts()}},C={class:"container-fluid bg-black py-5"},P={class:"container"},I={class:"row"},$=t("h3",{class:"text-white text-center pb-10"},"所有課程",-1),V={class:"table"},A=t("thead",{class:"text-white"},[t("tr",{class:"text-center table-dark"},[t("th",{class:"col-2"},"圖片"),t("th",{class:"col-3"},"上課名稱"),t("th",{class:"col-1 text-nowrap"},"堂數"),t("th",{class:"col-1"},"價格"),t("th",{class:"col-1 text-nowrap"},"查看細節"),t("th",{class:"col-1 text-nowrap"},"加入課程")])],-1),E={class:"text-white"},S={class:"align-middle"},T={class:"align-middle"},N={class:"align-middle"},U={class:"align-middle"},D=["onClick"],R={class:"align-middle"},q=["onClick"],B={class:"container-fluid bg-black py-5"},L={class:"container"},M={class:"row"},j=t("h3",{class:"text-white text-center pb-10"},"已預約課程",-1),z={class:"col-12 mx-auto"},F={class:"table align-middle"},H=t("thead",null,[t("tr",{class:"text-white table-dark"},[t("th",{class:"col-1"}),t("th",{class:"col-2"},"上課名稱"),t("th",{class:"col-1",style:{}},"堂數"),t("th",{class:"col-2"},"價格")])],-1),O=t("td",null,null,-1),G={class:"text-white"},J={class:"input-group input-group-sm"},K=["onUpdate:modelValue","onChange","disabled"],Q=["value"],W={class:"text-white d-flex justify-content-between"},X=["onClick","disabled"],Y=t("i",{class:"fa-solid fa-trash"},null,-1),Z=[Y],tt={class:"text-white"},et=t("td",{colspan:"3",class:"text-end"},"總計",-1),st=v('<main><div class="container-fulid bg-black py-5"><div class="container"><div class="row"><h3 class="text-white text-center pb-9">報名表單</h3><div class="col-sm-8 col-lg-6 col-xl-4 mx-auto"><form class="form-signin position-relative text-center"><div class="form-floating text-white mb-6"><label class="text-white me-5">姓名</label><input type="text" id="name" value="" placeholder="黃小明"></div><div class="form-floating text-white mb-6"><label class="text-white me-5">年齡</label><input type="text" id="age" value="" placeholder="6~24"></div><div class="form-floating text-white mb-6"><label class="text-white me-6">性別：</label><span class="me-3" value="male">男性</span><input class="me-9" type="radio" name="gender" id="male" checked><span class="me-3" value="woman">女性</span><input type="radio" name="gender" id="woman"></div><div class="form-floating text-white mb-6"><label class="text-white me-6">組別：</label><span value="society">社會</span><input class="me-2" type="radio" name="level" id="grande" checked><span value="high">高中</span><input class="me-2" type="radio" name="level" id="grande" checked><span value="middle">國中</span><input class="me-2" type="radio" name="level" id="grande"><span value="Elementary">國小</span><input type="radio" name="level" id="grande"></div><div class="form-floating text-white mb-6"><label class="text-white me-6">個人/團體</label><span class="me-3" value="single">個人</span><input class="me-9" type="radio" name="more" id="single" checked><span class="me-3" value="group">團體</span><input type="radio" name="more" id="group"></div><div class="form-floating text-white mb-6"><label class="text-white me-6">信箱</label><input type="email" id="email" name="email" value="" placeholder="abc@gmail.com"></div><div class="form-floating text-white mb-6"><label class="text-white me-6">聯絡電話</label><input type="tel" id="phone" name="phone" value="" placeholder="0912345678"></div><div class="form-floating text-white mb-6"><label for="">選擇日期：</label><input type="date" value="2023-03-9" min="2023-01" max="2024-12"></div></form></div></div></div></div></main>',1);function at(e,l,h,_,i,p){return n(),c(u,null,[t("main",null,[t("div",C,[t("div",P,[t("div",I,[$,t("table",V,[A,t("tbody",E,[(n(!0),c(u,null,m(i.products,s=>(n(),c("tr",{class:"text-center",key:s.id},[t("th",null,[t("div",{style:x([{height:"100px","background-size":"contain","background-repeat":"no-repeat","background-position":"center"},{backgroundImage:`url(${s.imageUrl})`}])},null,4)]),t("td",S,o(s.title),1),t("td",T,o(s.unit),1),t("td",N,o(s.price),1),t("td",U,[t("button",{onClick:a=>p.openModal(s.id),type:"button",class:"btn btn-primary text-white text-nowrap me-2"},"查看更多",8,D)]),t("td",R,[t("button",{onClick:a=>p.addToCard(s.id),type:"button",class:"btn btn-pink text-white text-nowrap"},"加入課程",8,q)])]))),128))])])])])])]),t("main",null,[t("div",B,[t("div",L,[t("div",M,[j,t("div",z,[t("table",F,[H,t("tbody",null,[i.cart.carts?(n(!0),c(u,{key:0},m(i.cart.carts,s=>(n(),c("tr",{key:s.id},[O,t("td",G,o(s.product.title),1),t("td",null,[t("div",J,[w(t("select",{name:"",id:"",class:"form-control bg-black text-white","onUpdate:modelValue":a=>s.qty=a,onChange:a=>p.updateCartItem(s),disabled:s.id===i.loadingItem},[(n(),c(u,null,m(20,a=>t("option",{value:a,key:a+"123"},o(a),9,Q)),64))],40,K),[[y,s.qty]])])]),t("td",W,[f(o(s.product.price)+" ",1),t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:a=>p.deleteItem(s),disabled:s.id===i.loadingItem},Z,8,X)])]))),128)):b("",!0)]),t("tfoot",null,[t("tr",tt,[et,t("td",null,o(i.cart.total),1)])])])])])])])]),st],64)}const ot=g(k,[["render",at]]);export{ot as default};
