import{_ as y,r as p,o as u,c as _,b as e,F as b,g as x,h as V,t as h,d as n,w,e as k,i as I,v as C,f as P,n as m,p as S,j as E}from"./index-55501597.js";const{VITE_APP_URL:f,VITE_APP_PATH:v}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"shangway",BASE_URL:"/basketball-sideProject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},U={data(){return{cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""},orderId:""}},methods:{isPhone(s){return/^(09)[0-9]{8}$/.test(s)?!0:"需要正確的電話號碼"},getCarts(){this.$http.get(`${f}/v2/api/${v}/cart`).then(s=>{this.cart=s.data.data,console.log("取得購物車",s.data.data)})},deleteItem(s){this.$http.delete(`${f}/v2/api/${v}/cart/${s.id}`).then(t=>{console.log("刪除購物車",t),this.getCarts()})},createOrder(){const s=this.form;this.$http.post(`${f}v2/api/${v}/order`,{data:s}).then(t=>{console.log("送出報名表",t),this.orderId=t.data.orderId,this.$router.push(`/order/${this.orderId}`)}).catch(t=>{console.log(t)})},updateCartItem(){}},mounted(){this.getCarts()}},d=s=>(S("data-v-25832c1b"),s=s(),E(),s),j=k('<section data-v-25832c1b><div class="container-fulid bg-black py-10" data-v-25832c1b><ul class="row d-flex justify-content-center list-unstyled m-0" data-v-25832c1b><li class="col-8 text-white d-flex justify-content-around" data-v-25832c1b><div class="badge rounded-pill fs-7 bg-white text-primary" data-v-25832c1b>1.填寫資訊</div><div class="badge rounded-pill fs-7 bg-secondary text-primary" data-v-25832c1b>2.確認付款</div><div class="badge rounded-pill fs-7 bg-secondary text-primary" data-v-25832c1b>3.付款完成</div></li></ul></div></section>',1),A={class:"container-fluid bg-black py-5"},N={class:"container"},T={class:"row d-flex justify-content-evenly"},D={class:"col-lg-5 mb-4 mb-xl-0"},F=d(()=>e("h6",{class:"text-white text-left"},"已預約課程",-1)),q={class:"table align-middle"},R=d(()=>e("thead",null,[e("tr",{class:"text-white"},[e("th",{class:"col-2"},"上課名稱"),e("th",{class:"col-1 text-center",style:{}},"堂數"),e("th",{class:"col-2"},"價格")])],-1)),B={class:"text-white"},L={class:"input-group input-group-sm"},M=["onUpdate:modelValue","onChange","disabled"],O=["value"],$={class:"text-white d-flex justify-content-between"},H=["onClick","disabled"],z=d(()=>e("i",{class:"fa-solid fa-trash"},null,-1)),G=[z],J={class:"text-white"},K=d(()=>e("td",{colspan:"2",class:"text-end"},"總計",-1)),Q={class:"col-lg-5"},W=d(()=>e("h6",{class:"text-white text-center mb-9"},"填寫個人資料",-1)),X={class:"form-floating text-white mb-6"},Y=d(()=>e("label",{for:"name",class:"text-white"},"姓名",-1)),Z={class:"form-floating text-white mb-6"},ee=d(()=>e("label",{for:"tel",class:"text-white"},"請輸入電話",-1)),te={class:"form-floating text-white mb-6"},se=d(()=>e("label",{for:"address",class:"text-white"},"上課地點",-1)),le={class:"form-floating text-white mb-6"},ae=d(()=>e("label",{for:"email",class:"text-white"},"請輸入信箱",-1)),oe=d(()=>e("div",{class:"d-flex justify-content-center mt-5"},[e("button",{type:"submit",class:"btn btn-white text-black"}," 送出報名表 ")],-1));function de(s,t,ne,ie,o,i){const c=p("VField"),r=p("ErrorMessage"),g=p("VForm");return u(),_(b,null,[j,e("section",null,[e("div",A,[e("div",N,[e("div",T,[e("div",D,[F,e("table",q,[R,e("tbody",null,[o.cart.carts?(u(!0),_(b,{key:0},x(o.cart.carts,a=>(u(),_("tr",{class:"tableDark",key:a.id},[e("td",B,h(a.product.title),1),e("td",null,[e("div",L,[I(e("select",{name:"",id:"",class:"form-control bg-black text-white text-center","onUpdate:modelValue":l=>a.qty=l,onChange:l=>i.updateCartItem(a),disabled:a.id===s.loadingItem},[(u(),_(b,null,x(20,l=>e("option",{value:l,key:l+"123"},h(l),9,O)),64))],40,M),[[C,a.qty]])])]),e("td",$,[P(h(a.product.price)+" ",1),e("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:l=>i.deleteItem(a),disabled:a.id===s.loadingItem},G,8,H)])]))),128)):V("",!0)]),e("tfoot",null,[e("tr",J,[K,e("td",null,h(o.cart.final_total),1)])])])]),e("div",Q,[W,n(g,{onSubmit:i.createOrder,class:"form-signin position-relative text-center"},{default:w(({errors:a})=>[e("div",X,[Y,n(c,{id:"name",name:"姓名",type:"text",rules:"required",modelValue:o.form.user.name,"onUpdate:modelValue":t[0]||(t[0]=l=>o.form.user.name=l),class:m(["text-black",{"is-invalid":a.姓名}]),placeholder:"請輸入姓名"},null,8,["modelValue","class"]),n(r,{name:"姓名",class:"invalid-feedback"})]),e("div",Z,[ee,n(c,{id:"tel",name:"電話",type:"text",rules:i.isPhone,modelValue:o.form.user.tel,"onUpdate:modelValue":t[1]||(t[1]=l=>o.form.user.tel=l),class:m(["text-black",{"is-invalid":a.電話}]),placeholder:"請輸入電話"},null,8,["rules","modelValue","class"]),n(r,{name:"電話",class:"invalid-feedback"})]),e("div",te,[se,n(c,{id:"address",name:"地址",type:"text",rules:"required",modelValue:o.form.user.address,"onUpdate:modelValue":t[2]||(t[2]=l=>o.form.user.address=l),class:m(["text-black",{"is-invalid":a.地址}]),placeholder:"請輸入上課地點"},null,8,["modelValue","class"]),n(r,{name:"地址",class:"invalid-feedback"})]),e("div",le,[ae,n(c,{id:"email",name:"信箱",type:"text",rules:"required|email",modelValue:o.form.user.email,"onUpdate:modelValue":t[3]||(t[3]=l=>o.form.user.email=l),class:m(["text-black",{"is-invalid":a.信箱}]),placeholder:"請輸入信箱"},null,8,["modelValue","class"]),n(r,{name:"信箱",class:"invalid-feedback"})]),oe]),_:1},8,["onSubmit"])])])])])])],64)}const re=y(U,[["render",de],["__scopeId","data-v-25832c1b"]]);export{re as default};
