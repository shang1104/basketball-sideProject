import{_ as m,o as n,c as r,a as t,F as u,s as h,H as b,L as d}from"./index-c0f7cc17.js";const{VITE_APP_URL:p,VITE_APP_PATH:w}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"shangway",BASE_URL:"/basketball-sideProject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},v={data(){return{orders:{},hoveredRowIndex:-1}},methods:{showHoveredRow(e){this.hoveredRowIndex=e},hideHoveredRow(){this.hoveredRowIndex=-1},getOrder(){this.$http.get(`${p}/v2/api/${w}/admin/orders`).then(e=>{this.orders=e.data.orders,console.log(e)})},time(e){const s=new Date(e*1e3),l={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"};return s.toLocaleString("zh-TW",l)}},mounted(){var s;const e=(s=document.cookie.split("; ").find(l=>l.startsWith("hexToken=")))==null?void 0:s.split("=")[1];this.$http.defaults.headers.common.Authorization=e,this.getOrder()}},f={class:"container-fluid"},y={class:"text-end mt-4"},g={class:"table mt-4"},R=t("thead",null,[t("tr",null,[t("th",{class:"fs-8",width:"170"},"購買時間"),t("th",{class:"fs-8",width:"120"},"Email"),t("th",{class:"fs-8",width:"200"},"上課名稱"),t("th",{class:"fs-8",width:"120"},"應付金額"),t("th",{class:"fs-8",width:"120"},"是否付款"),t("th",{class:"fs-8",width:"120"},"編輯")])],-1),k={class:"border border-2 border-black"},x=["onMouseover"],P={class:"list-unstyled"},A={class:"fw-bold"},E={key:0,class:"text-success"},V={key:1,class:"text-danger"},H=t("td",null,[t("div",{class:"btn-group"},[t("button",{type:"button",class:"btn btn-outline-primary btn-sm"}," 編輯 "),t("button",{type:"button",class:"btn btn-outline-danger btn-sm"}," 刪除 ")])],-1);function I(e,s,l,T,c,i){return n(),r("div",f,[t("div",y,[t("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#productModal",onClick:s[0]||(s[0]=o=>e.openModal("create"))}," 建立新的產品 ")]),t("table",g,[R,t("tbody",k,[(n(!0),r(u,null,h(c.orders,o=>(n(),r("tr",{key:o+123,onMouseover:a=>i.showHoveredRow(o),onMouseleave:s[1]||(s[1]=(...a)=>i.hideHoveredRow&&i.hideHoveredRow(...a)),class:b({"highlight-row":c.hoveredRowIndex===o})},[t("td",null,d(i.time(o.create_at)),1),t("td",null,d(o.user.email),1),t("td",null,[t("ul",P,[(n(!0),r(u,null,h(o.products,(a,_)=>(n(),r("li",{class:"border-bottom border-primary",key:_},d(a.product.title)+" 課堂："+d(a.qty),1))),128))])]),t("td",A,d(o.total),1),t("td",null,[o.is_paid?(n(),r("span",E,"付款")):(n(),r("span",V,"未付款"))]),H],42,x))),128))])])])}const M=m(v,[["render",I]]);export{M as default};
